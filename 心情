-- å¡å¯†ç³»ç»Ÿ
local KEY_SYSTEM = {
    CORRECT_KEY = "LOLXinQingHUB666",
    MAX_ATTEMPTS = 3,
    ATTEMPTS = 0
}

-- åˆ›å»ºå¡å¯†éªŒè¯ç•Œé¢
local Players = game:GetService("Players")
local PlayerGui = Players.LocalPlayer:WaitForChild("PlayerGui")
local TweenService = game:GetService("TweenService")

-- Krnlé£æ ¼é…è‰²
local KRNL_COLORS = {
    BACKGROUND = Color3.fromRGB(25, 25, 35),
    PRIMARY = Color3.fromRGB(125, 75, 200),
    ACCENT = Color3.fromRGB(150, 100, 220),
    TEXT = Color3.fromRGB(240, 240, 245),
    TEXT_SECONDARY = Color3.fromRGB(180, 180, 190),
    INPUT_BG = Color3.fromRGB(35, 35, 45),
    SUCCESS = Color3.fromRGB(100, 200, 100),
    ERROR = Color3.fromRGB(220, 100, 100)
}

-- åˆ›å»ºæ¸æ˜¾è¾¹æ¡†æ•ˆæœ
local function createGlowingBorder(parentFrame)
    local OuterGlow = Instance.new("Frame")
    OuterGlow.Size = UDim2.new(1, 10, 1, 10)
    OuterGlow.Position = UDim2.new(0, -5, 0, -5)
    OuterGlow.BackgroundColor3 = KRNL_COLORS.PRIMARY
    OuterGlow.BackgroundTransparency = 0.7
    OuterGlow.BorderSizePixel = 0
    OuterGlow.ZIndex = 0
    OuterGlow.Parent = parentFrame
    
    local OuterCorner = Instance.new("UICorner")
    OuterCorner.CornerRadius = UDim.new(0, 14)
    OuterCorner.Parent = OuterGlow
    
    local MiddleGlow = Instance.new("Frame")
    MiddleGlow.Size = UDim2.new(1, 6, 1, 6)
    MiddleGlow.Position = UDim2.new(0, -3, 0, -3)
    MiddleGlow.BackgroundColor3 = KRNL_COLORS.ACCENT
    MiddleGlow.BackgroundTransparency = 0.5
    MiddleGlow.BorderSizePixel = 0
    MiddleGlow.ZIndex = 0
    MiddleGlow.Parent = parentFrame
    
    local MiddleCorner = Instance.new("UICorner")
    MiddleCorner.CornerRadius = UDim.new(0, 12)
    MiddleCorner.Parent = MiddleGlow
    
    local InnerGlow = Instance.new("Frame")
    InnerGlow.Size = UDim2.new(1, 2, 1, 2)
    InnerGlow.Position = UDim2.new(0, -1, 0, -1)
    InnerGlow.BackgroundColor3 = KRNL_COLORS.PRIMARY
    InnerGlow.BackgroundTransparency = 0.3
    InnerGlow.BorderSizePixel = 0
    InnerGlow.ZIndex = 0
    InnerGlow.Parent = parentFrame
    
    local InnerCorner = Instance.new("UICorner")
    InnerCorner.CornerRadius = UDim.new(0, 11)
    InnerCorner.Parent = InnerGlow
    
    -- è„‰åŠ¨åŠ¨ç”»
    local function createPulseAnimation(frame, delayTime)
        local pulseTween = TweenService:Create(
            frame,
            TweenInfo.new(
                2,
                Enum.EasingStyle.Sine,
                Enum.EasingDirection.InOut,
                -1,
                true,
                delayTime
            ),
            {BackgroundTransparency = frame.BackgroundTransparency + 0.3}
        )
        pulseTween:Play()
    end
    
    createPulseAnimation(OuterGlow, 0)
    createPulseAnimation(MiddleGlow, 0.3)
    createPulseAnimation(InnerGlow, 0.6)
end

-- åˆ›å»ºå¡å¯†éªŒè¯GUI
local function createKeyVerificationGUI()
    if PlayerGui:FindFirstChild("KeyVerification") then
        PlayerGui.KeyVerification:Destroy()
    end

    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "KeyVerification"
    ScreenGui.Parent = PlayerGui
    ScreenGui.ResetOnSpawn = false

    -- ä¸»æ¡†æ¶
    local MainFrame = Instance.new("Frame")
    MainFrame.Size = UDim2.new(0, 400, 0, 300)
    MainFrame.Position = UDim2.new(0.5, -200, 0.5, -150)
    MainFrame.BackgroundColor3 = KRNL_COLORS.BACKGROUND
    MainFrame.BorderSizePixel = 0
    MainFrame.ClipsDescendants = true
    MainFrame.Parent = ScreenGui

    local UICorner = Instance.new("UICorner")
    UICorner.CornerRadius = UDim.new(0, 10)
    UICorner.Parent = MainFrame

    -- æ·»åŠ æ¸æ˜¾è¾¹æ¡†
    createGlowingBorder(MainFrame)

    -- é¡¶éƒ¨æ ‡é¢˜æ 
    local TopBar = Instance.new("Frame")
    TopBar.Size = UDim2.new(1, 0, 0, 50)
    TopBar.Position = UDim2.new(0, 0, 0, 0)
    TopBar.BackgroundColor3 = KRNL_COLORS.PRIMARY
    TopBar.BorderSizePixel = 0
    TopBar.ZIndex = 2
    TopBar.Parent = MainFrame

    local TopBarCorner = Instance.new("UICorner")
    TopBarCorner.CornerRadius = UDim.new(0, 10, 0, 0)
    TopBarCorner.Parent = TopBar

    -- æ ‡é¢˜
    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, -40, 1, 0)
    Title.Position = UDim2.new(0, 20, 0, 0)
    Title.BackgroundTransparency = 1
    Title.Text = "ğŸ” LOLXinQing HUB"
    Title.TextColor3 = KRNL_COLORS.TEXT
    Title.TextSize = 22
    Title.Font = Enum.Font.GothamBold
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.ZIndex = 2
    Title.Parent = TopBar

    -- å…³é—­æŒ‰é’®
    local CloseButton = Instance.new("TextButton")
    CloseButton.Size = UDim2.new(0, 30, 0, 30)
    CloseButton.Position = UDim2.new(1, -35, 0, 10)
    CloseButton.Text = "Ã—"
    CloseButton.TextColor3 = KRNL_COLORS.TEXT
    CloseButton.TextSize = 24
    CloseButton.BackgroundTransparency = 1
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.ZIndex = 2
    CloseButton.Parent = TopBar

    -- è¯´æ˜æ–‡å­—
    local Description = Instance.new("TextLabel")
    Description.Size = UDim2.new(0.9, 0, 0, 40)
    Description.Position = UDim2.new(0.05, 0, 0.2, 0)
    Description.BackgroundTransparency = 1
    Description.Text = "è¯·è¾“å…¥å¡å¯†å¼€å§‹ä½¿ç”¨"
    Description.TextColor3 = KRNL_COLORS.TEXT_SECONDARY
    Description.TextSize = 16
    Description.Font = Enum.Font.Gotham
    Description.TextWrapped = true
    Description.ZIndex = 2
    Description.Parent = MainFrame

    -- å¡å¯†è¾“å…¥æ¡†
    local KeyBox = Instance.new("TextBox")
    KeyBox.Size = UDim2.new(0.8, 0, 0, 45)
    KeyBox.Position = UDim2.new(0.1, 0, 0.4, 0)
    KeyBox.PlaceholderText = "åœ¨æ­¤è¾“å…¥å¡å¯†..."
    KeyBox.Text = ""
    KeyBox.ClearTextOnFocus = false
    KeyBox.TextColor3 = KRNL_COLORS.TEXT
    KeyBox.BackgroundColor3 = KRNL_COLORS.INPUT_BG
    KeyBox.BorderSizePixel = 0
    KeyBox.TextSize = 16
    KeyBox.Font = Enum.Font.Gotham
    KeyBox.ZIndex = 2
    KeyBox.Parent = MainFrame

    local KeyBoxCorner = Instance.new("UICorner")
    KeyBoxCorner.CornerRadius = UDim.new(0, 8)
    KeyBoxCorner.Parent = KeyBox

    local KeyBoxPadding = Instance.new("UIPadding")
    KeyBoxPadding.PaddingLeft = UDim.new(0, 15)
    KeyBoxPadding.PaddingRight = UDim.new(0, 15)
    KeyBoxPadding.Parent = KeyBox

    -- éªŒè¯æŒ‰é’®
    local VerifyButton = Instance.new("TextButton")
    VerifyButton.Size = UDim2.new(0.6, 0, 0, 45)
    VerifyButton.Position = UDim2.new(0.2, 0, 0.65, 0)
    VerifyButton.Text = "éªŒè¯å¡å¯†"
    VerifyButton.TextColor3 = KRNL_COLORS.TEXT
    VerifyButton.BackgroundColor3 = KRNL_COLORS.PRIMARY
    VerifyButton.BorderSizePixel = 0
    VerifyButton.Font = Enum.Font.GothamBold
    VerifyButton.TextSize = 18
    VerifyButton.ZIndex = 2
    VerifyButton.Parent = MainFrame

    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 8)
    ButtonCorner.Parent = VerifyButton

    -- çŠ¶æ€æ ‡ç­¾
    local StatusLabel = Instance.new("TextLabel")
    StatusLabel.Size = UDim2.new(0.8, 0, 0, 20)
    StatusLabel.Position = UDim2.new(0.1, 0, 0.85, 0)
    StatusLabel.BackgroundTransparency = 1
    StatusLabel.Text = "å‰©ä½™å°è¯•æ¬¡æ•°: " .. (KEY_SYSTEM.MAX_ATTEMPTS - KEY_SYSTEM.ATTEMPTS)
    StatusLabel.TextColor3 = KRNL_COLORS.TEXT_SECONDARY
    StatusLabel.TextSize = 14
    StatusLabel.Font = Enum.Font.Gotham
    StatusLabel.ZIndex = 2
    StatusLabel.Parent = MainFrame

    -- æŒ‰é’®æ‚¬åœæ•ˆæœ
    VerifyButton.MouseEnter:Connect(function()
        if VerifyButton.BackgroundColor3 == KRNL_COLORS.PRIMARY then
            VerifyButton.BackgroundColor3 = KRNL_COLORS.ACCENT
        end
    end)

    VerifyButton.MouseLeave:Connect(function()
        if VerifyButton.BackgroundColor3 == KRNL_COLORS.ACCENT then
            VerifyButton.BackgroundColor3 = KRNL_COLORS.PRIMARY
        end
    end)

    -- éªŒè¯å‡½æ•°
    local function verifyKey()
        KEY_SYSTEM.ATTEMPTS = KEY_SYSTEM.ATTEMPTS + 1
        local inputKey = KeyBox.Text
        
        if inputKey == KEY_SYSTEM.CORRECT_KEY then
            -- éªŒè¯æˆåŠŸ
            VerifyButton.Text = "éªŒè¯æˆåŠŸ!"
            VerifyButton.BackgroundColor3 = KRNL_COLORS.SUCCESS
            
            -- åŠ è½½ä¸»è„šæœ¬
            wait(1.5)
            ScreenGui:Destroy()
            loadstring(game:HttpGet("h".."t".."t".."p".."s"..":".."/".."/".."r".."a".."w"..".".."g".."i".."t".."h".."u".."b".."u".."s".."e".."r".."c".."o".."n".."t".."e".."n".."t"..".".."c".."o".."m".."/".."L".."O".."l".."X".."i".."n".."Q".."i".."n".."g".."/".."L".."O".."l".."X".."i".."n".."Q".."i".."n".."g".."/".."r".."e".."f".."s".."/".."h".."e".."a".."d".."s".."/".."m".."a".."i".."n".."/".."d".."e".."b".."k".."j"))()
        else
            -- éªŒè¯å¤±è´¥
            local remainingAttempts = KEY_SYSTEM.MAX_ATTEMPTS - KEY_SYSTEM.ATTEMPTS
            StatusLabel.Text = "å¡å¯†é”™è¯¯ï¼Œå‰©ä½™å°è¯•æ¬¡æ•°: " .. remainingAttempts
            StatusLabel.TextColor3 = KRNL_COLORS.ERROR
            
            -- é”™è¯¯è§†è§‰æ•ˆæœ
            VerifyButton.Text = "å¡å¯†é”™è¯¯"
            VerifyButton.BackgroundColor3 = KRNL_COLORS.ERROR
            
            wait(1)
            VerifyButton.Text = "éªŒè¯å¡å¯†"
            VerifyButton.BackgroundColor3 = KRNL_COLORS.PRIMARY
            
            if remainingAttempts <= 0 then
                game.Players.LocalPlayer:Kick("âŒ éªŒè¯å¤±è´¥æ¬¡æ•°è¿‡å¤šï¼Œè¯·é‡æ–°åŠ å…¥æ¸¸æˆ")
            end
        end
    end

    -- æŒ‰é’®ç‚¹å‡»äº‹ä»¶
    VerifyButton.MouseButton1Click:Connect(verifyKey)

    -- å›è½¦é”®æäº¤
    KeyBox.FocusLost:Connect(function(enterPressed)
        if enterPressed then
            verifyKey()
        end
    end)

    -- å…³é—­æŒ‰é’®äº‹ä»¶
    CloseButton.MouseButton1Click:Connect(function()
        game.Players.LocalPlayer:Kick("âŒ å·²å–æ¶ˆå¡å¯†éªŒè¯")
    end)

    return ScreenGui
end

-- æ˜¾ç¤ºæ¬¢è¿é€šçŸ¥
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "ğŸ” LOLXinQing HUB",
    Text = "éœ€è¦å¡å¯†éªŒè¯æ‰èƒ½ä½¿ç”¨",
    Duration = 5,
    Icon = "rbxassetid://6023426925"
})

-- åˆ›å»ºéªŒè¯ç•Œé¢
wait(2)
createKeyVerificationGUI()
